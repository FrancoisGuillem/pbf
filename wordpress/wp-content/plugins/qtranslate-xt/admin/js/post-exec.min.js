!function(g){g(function(){var r,i,l,s,h,o,d,e=qTranslateConfig.js.get_qtx(),c=function(e,a){switch(qTranslateConfig.url_mode.toString()){case"1":e.search?e.search+="&lang="+a:e.search="?lang="+a;break;case"2":var n=qTranslateConfig.home_url_path,t=e.pathname;"/"!==t[0]&&(t="/"+t);var r=t.indexOf(n);0<=r&&(e.pathname=qTranslateConfig.homeinfo_path+a+t.substring(r+n.length-1));break;case"3":e.host=a+"."+e.host;break;case"4":e.host=qTranslateConfig.domains[a]}},a=function(e){if(!r){var a=document.getElementById("view-post-btn");if(!a||!a.children.length)return;if("A"!==(r=a.children[0]).tagName)return;i=r.href,l=qtranxj_ce("a",{}),0<i.search(/\?/)}l.href=i,c(l,e),r.href=l.href;var n=document.getElementById("preview-action");if(n&&n.children.length&&(n.children[0].href=l.href),1!==qTranslateConfig.url_mode){if(!s){var t=document.getElementById("sample-permalink");t&&0<t.offsetHeight&&t.childNodes.length&&(s=t.childNodes[0],h=s.nodeValue)}s&&(l.href=h,c(l,e),s.nodeValue=l.href)}else d||(g("#sample-permalink").append('<span id="sample-permalink-lang-query"></span>'),d=g("#sample-permalink-lang-query")),d&&d.text((i.search(/\?/)<0?"/?lang=":"&lang=")+e);o||(o=document.getElementById("wp-admin-bar-view")),o&&o.children.length&&(o.children[0].href=r.href)},n=g("#title"),t=g("#title-prompt-text");e.addCustomContentHooks(),a(e.getActiveLanguage()),e.addLanguageSwitchAfterListener(a),t&&n&&e.addLanguageSwitchAfterListener(function(e){n.attr("value")?t.addClass("screen-reader-text"):t.removeClass("screen-reader-text")})})}(jQuery);