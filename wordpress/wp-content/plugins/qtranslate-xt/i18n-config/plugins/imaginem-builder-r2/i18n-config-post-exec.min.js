jQuery(document).ready(function(e){var t=qTranslateConfig.js.get_qtx();if(e.fn.wp_editor){t.get_ml||(t.get_ml=function(e,t){var n=e.contentField.value.trim(),i=qtranxj_get_split_blocks(n);if(!i||i.length>1){var a=qtranxj_split_blocks(i);for(var l in e.fields)e.fields[l].value=a[l];return n}t||(t=e.sepfield?e.sepfield.value:"{");var d,r;switch(t){case"[":d="[:",r="]";break;case"<":d="<!--:",r="-->";break;case"{":default:d="{:",r="}"}var l=e.lang;e.fields[l].value=n;var o="";for(var l in e.fields)o+=d+l+r,o+=e.fields[l].value;return o&&(o+=d+r),o}),t.addTinyMceHook||(t.addTinyMceHook=function(t){if(window.tinyMCE&&tinyMCE.editors[t.contentField.id]){var n=t.contentField.id,i=tinyMCE.editors[n];t.mce=i,e(i.getContainer()).addClass("qtranxs-translatable")}});var n=e.fn.wp_editor;e.fn.wp_editor=function(i){var a=e(this).attr("id"),l=e(this).closest("div.block-settings.modal"),d=t.hasContentHook(a);if(d){var r=d.lang,o=d.fields[r].value;d.contentField.value=o}if(n.call(this,i),d){var s=document.getElementById(a);if(s){d.contentField=s;for(var r in d.fields){var f=d.fields[r];s.parentNode.insertBefore(f,s)}s.parentNode.insertBefore(d.sepfield,s),l.one("hidden.bs.modal",function(){var e=t.get_ml(d);d.contentField.value=e,d.mce=null}),t.addTinyMceHook(d)}}}}});